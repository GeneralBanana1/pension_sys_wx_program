<!-- 订单列表 -->
<view class="container">
  <!-- 订单滚动区域 -->
  <scroll-view scroll-y class="order-scroll" bindscrolltolower="loadMore">
    <!-- 订单列表 -->
    <view class="order-list">
      <view wx:if="{{orders.length === 0}}" class="empty-box">
        <text class="empty-title">暂无订单</text>
        <text class="empty-tip">您还没有服务订单</text>
      </view>
      
      <view wx:for="{{orders}}" wx:key="orderId" class="order-card">
        <!-- 订单头部 -->
        <view class="card-header">
          <view class="header-left">
            <text class="order-type">{{item.serviceType}}</text>
            <view class="status-badge status-{{item.state}}">
              <text>{{item.status}}</text>
            </view>
          </view>
          <text class="order-time">{{item.createTime}}</text>
        </view>
        
        <!-- 订单内容 -->
        <view class="card-content">
          <!-- 老人信息 -->
          <view class="customer-info">
            <text class="info-label">老人姓名：</text>
            <text class="info-value">{{item.customerName}}</text>
          </view>
          
          <text class="content-label">需求描述：</text>
          <text class="content-text">{{item.description}}</text>
          
          <view class="order-info">
            <text class="info-label">订单编号：</text>
            <text class="info-value">{{item.orderNum}}</text>
          </view>
          
          <view class="order-info">
            <text class="info-label">服务时间：</text>
            <text class="info-value">{{item.serviceTime}}</text>
          </view>
          
          <view wx:if="{{item.serviceAddress}}" class="order-info">
            <text class="info-label">服务地址：</text>
            <text class="info-value address">{{item.serviceAddress}}</text>
          </view>
          
          <view wx:if="{{item.remark}}" class="order-info">
            <text class="info-label">备注：</text>
            <text class="info-value">{{item.remark}}</text>
          </view>
        </view>
        
        <!-- 操作按钮 -->
        <view wx:if="{{item.actions.length > 0}}" class="card-actions">
          <button wx:for="{{item.actions}}" wx:for-item="action" wx:key="type" 
                  class="action-btn btn-{{action.class}}" 
                  bindtap="handleOrderAction" 
                  data-orderid="{{item.orderId}}"
                  data-actiontype="{{action.type}}">
            {{action.text}}
          </button>
        </view>
      </view>
      
      <!-- 加载更多 -->
      <view wx:if="{{loading}}" class="loading-more">
        <text class="loading-text">加载中...</text>
      </view>
      
      <!-- 没有更多数据 -->
      <view wx:if="{{!hasMore && orders.length > 0}}" class="no-more">
        <text class="no-more-text">没有更多订单了</text>
      </view>
    </view>
  </scroll-view>
</view>