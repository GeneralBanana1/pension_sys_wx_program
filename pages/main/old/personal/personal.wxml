<!-- è€äººä¸ªäººä¿¡æ¯é¡µé¢ -->
<view class="profile-container">
  <!-- åŠ è½½çŠ¶æ€ -->
  <view wx:if="{{loading}}" class="loading-container">
    <view class="loading-spinner"></view>
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>
  
  <!-- ç”¨æˆ·èº«ä»½å¡ç‰‡ -->
  <view class="identity-card">
    <view class="avatar-wrapper">
      <image 
        src="{{userInfo.avatar || ''}}" 
        class="avatar"
        mode="aspectFill"
      ></image>
    </view>
    <view class="identity-info">
      <text class="user-name">{{userInfo.name}}</text>
      <text class="user-id">ID: {{userInfo.id}}</text>
    </view>
  </view>

  <!-- åŸºæœ¬ä¿¡æ¯ -->
  <view class="info-section">
    <view class="section-title">
      <text class="title-icon">ğŸ“‹</text>
      <text>åŸºæœ¬ä¿¡æ¯</text>
    </view>
    <view class="info-list">
      <view class="info-item">
        <text class="info-label">å§“å</text>
        <text class="info-value">{{userInfo.name}}</text>
      </view>
      <view class="info-item">
        <text class="info-label">ç”¨æˆ·ID</text>
        <text class="info-value">{{userInfo.id}}</text>
      </view>
      <view class="info-item">
        <text class="info-label">æ€§åˆ«</text>
        <text class="info-value">{{userInfo.sex}}</text>
      </view>
      <view class="info-item">
        <text class="info-label">é‚®ç®±</text>
        <text class="info-value">{{userInfo.email}}</text>
      </view>
      <view class="info-item">
        <text class="info-label">è”ç³»ç”µè¯</text>
        <text class="info-value">{{userInfo.phone}}</text>
      </view>
      <view class="info-item">
        <text class="info-label">å¤‡æ³¨</text>
        <text class="info-value">{{userInfo.remark}}</text>
      </view>
    </view>
  </view>

  <!-- ç´§æ€¥è”ç³»äºº -->
  <view wx:if="{{emergencyContacts && emergencyContacts.length > 0}}" class="info-section">
    <view class="section-title">
      <text class="title-icon">ğŸš¨</text>
      <text>ç´§æ€¥è”ç³»äºº</text>
    </view>
    <!-- ç´§æ€¥è”ç³»äººåˆ—è¡¨ -->
    <view class="emergency-contacts-list">
      <view wx:for="{{emergencyContacts}}" wx:key="contactsId" class="emergency-contact-item">
        <view class="contact-header">
          <text class="contact-name">{{item.name || 'æš‚æ— '}}</text>
          <text class="contact-type">ç´§æ€¥è”ç³»äºº</text>
        </view>
        <view class="contact-details">
          <view class="info-item">
            <text class="info-label">è”ç³»ç”µè¯</text>
            <text class="info-value">{{item.phone || 'æš‚æ— '}}</text>
          </view>
          <view class="info-item">
            <text class="info-label">å¤‡æ³¨</text>
            <text class="info-value">{{item.remark || 'æš‚æ— '}}</text>
          </view>
        </view>
      </view>
    </view>
  </view>
  
  <!-- é€€å‡ºç™»å½•æŒ‰é’® -->
  <view class="logout-section">
    <button class="logout-button" bindtap="logout">é€€å‡ºç™»å½•</button>
  </view>
</view>